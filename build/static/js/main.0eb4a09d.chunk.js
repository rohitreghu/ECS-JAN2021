(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{76:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a(13),r=a.n(s),l=a(20),i=a(9),j=a(12),o=a(4),d=a(22),b=a.n(d),u=a(37),h=a(3),m=a(38),O=a.n(m),x=Object(i.b)((function(e){return{cart:e.cart}}))((function(e){var t=e.searchedTerm,a=e.setSearchedTerm,n=e.cart;return Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark px-5",children:[Object(c.jsx)(j.b,{to:"./home",exact:!0,className:"navbar-brand",href:"!#",children:"BookKart"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[a&&Object(c.jsx)("ul",{className:"navbar-nav m-auto",style:{width:"50%"},children:Object(c.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search",value:t,onChange:function(e){return a(e.target.value)}})}),Object(c.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(c.jsx)(j.b,{to:"/cart",exact:!0,className:"nav-item active",children:Object(c.jsxs)("span",{className:"nav-link p-0",children:[Object(c.jsx)("i",{className:"fas fa-shopping-cart fa-2x"}),Object(c.jsx)("span",{className:"badge badge-warning",id:"lblCartCount",children:n.length})]})})})]})]})})})),p=a(39),g=a.n(p),f=a(19),N=(a(34),a(35),a(36),function(e){return{type:"ADD_TO_CART",payload:e}}),v=Object(i.b)((function(e){return{cart:e.cart}}),{addToCart:N})((function(e){var t=e.displayedBooks,a=e.addToCart,s=(e.cart,Object(n.useRef)(null));return t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[e.title,Object(c.jsx)(f.a,{ref:s})]}),Object(c.jsx)("td",{children:e.authors}),Object(c.jsx)("td",{children:e.language_code}),Object(c.jsxs)("td",{children:[Object(c.jsx)("h6",{className:"badge",children:Object(c.jsx)(g.a,{rating:"number"===typeof e.average_rating?e.average_rating:0,starRatedColor:"#0275d8",starDimension:"15px",starSpacing:"0"})}),Object(c.jsx)("h6",{children:Object(c.jsx)("span",{className:"badge badge-warning",children:parseFloat(e.ratings_count)})})]}),Object(c.jsx)("td",{children:Object(c.jsxs)("span",{children:["\u20b9\xa0",e.price]})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(e){a(e),s.current.show({severity:"info",summary:"Book Added to Cart",life:2e3})}(e)},children:"Add"})})]},e.bookID)}))})),y=function(e){var t=e.booksPerPage,a=e.totalBooks,n=e.currentPage,s=e.handlePrev,r=e.handleNext,l=e.paginate,i=e.rangeStart,j=e.rangeEnd,o=Math.ceil(a/t),d=[];if(o<7)for(var b=1;b<=o;b++)d.push(b);return 0===a?Object(c.jsx)("div",{className:"mx-auto",children:"No Books Found"}):Object(c.jsx)("nav",{children:o>6?Object(c.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(c.jsx)("li",{className:"page-item ".concat(1===n?"disabled":null),children:Object(c.jsx)("button",{onClick:s,className:"page-link",href:"#","aria-label":"Previous",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{onClick:function(){return l(1)},className:1===n?"btn btn-dark":"page-link",href:"#",children:"1"})}),Object(c.jsx)("li",{className:"page-item",children:n<5?Object(c.jsx)("button",{className:2===n?"btn btn-dark":"page-link",onClick:function(){return l(2)},children:"2"}):Object(c.jsx)("button",{onClick:s,className:"page-link",href:"#",children:Object(c.jsx)("span",{children:"..."})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:i===n?"btn btn-dark":"page-link",onClick:function(){return l(i)},children:i})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:i+1===n?"btn btn-dark":"page-link",onClick:function(){return l(i+1)},children:i+1})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:j===n?"btn btn-dark":"page-link",onClick:function(){return l(j)},children:j})}),Object(c.jsx)("li",{className:"page-item",children:n>o-4?Object(c.jsx)("button",{className:o-1===n?"btn btn-dark":"page-link",onClick:function(){return l(o-1)},children:o-1}):Object(c.jsx)("button",{onClick:r,className:"page-link",href:"#",children:Object(c.jsx)("span",{children:"..."})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{onClick:function(){return l(o)},className:o===n?"btn btn-dark":"page-link",href:"#",children:o})}),Object(c.jsx)("li",{className:"page-item ".concat(n===o?"disabled":null),children:Object(c.jsx)("button",{onClick:r,className:"page-link",href:"#","aria-label":"Next",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]}):Object(c.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(c.jsx)("li",{className:"page-item ".concat(1===n?"disabled":null),children:Object(c.jsx)("button",{onClick:s,className:"page-link",href:"#","aria-label":"Previous",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),d.map((function(e){return Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{className:e===n?"btn btn-dark":"page-link",onClick:function(){return l(e)},children:e})},e)})),Object(c.jsx)("li",{className:"page-item ".concat(n===o?"disabled":null),children:Object(c.jsx)("button",{onClick:r,className:"page-link",href:"#","aria-label":"Next",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})},C=Object(i.b)((function(e){return{cart:e.cart}}))((function(e){e.cart;var t=Object(n.useState)([]),a=Object(h.a)(t,2),s=a[0],r=a[1],l=Object(n.useState)([]),i=Object(h.a)(l,2),j=i[0],o=i[1],d=Object(n.useState)(""),m=Object(h.a)(d,2),p=m[0],g=m[1],f=Object(n.useState)(1),N=Object(h.a)(f,2),C=N[0],k=N[1],S=Object(n.useState)(10),w=Object(h.a)(S,1)[0],T=Object(n.useState)(5),E=Object(h.a)(T,2),R=E[0],_=E[1],F=Object(n.useState)(3),P=Object(h.a)(F,2),L=P[0],A=P[1],q=Object(n.useState)("Featured"),D=Object(h.a)(q,2),B=D[0],M=D[1],H=C*w,z=H-w,I=j.slice(z,H);Object(n.useEffect)((function(){(function(){var e=Object(u.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://s3-ap-southeast-1.amazonaws.com/he-public-data/books8f8fe52.json");case 2:t=e.sent,r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=Math.ceil(j.length/w);window.scroll(0,0),1===C?(A(3),_(5)):C>=4&&C<e-2?(A(C-1),_(C+1)):C===e&&(A(e-4),_(e-2))}),[C,w,j]),Object(n.useEffect)((function(){var e=setTimeout((function(){o(p?s.filter((function(e){return"string"===typeof e.title?e.title.toLocaleLowerCase().includes(p.toLocaleLowerCase()):toString(e.title).toLocaleLowerCase().includes(p.toLocaleLowerCase())})):s),k(1)}),1e3);return function(){clearTimeout(e)}}),[p,s]);var Z=function(e){var t=e.target.name;switch(k(1),M(t),t){case"Price: Low to High":o((function(e){return e.sort((function(e,t){return e.price-t.price}))}));break;case"Price: High to Low":o((function(e){return e.sort((function(e,t){return t.price-e.price}))}));break;case"Avg. Cutomer Ratings":o((function(e){return e.sort((function(e,t){return t.average_rating-e.average_rating}))}));break;case"No. of Customer Ratings":o((function(e){return e.sort((function(e,t){return t.ratings_count-e.ratings_count}))}))}};return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{searchedTerm:p,setSearchedTerm:g}),Object(c.jsx)("div",{className:"container-fluid",style:{padding:"0 4%"},children:Object(c.jsx)("div",{style:{margin:"1% 0 0 0"},children:Object(c.jsxs)("div",{className:"btn-group",children:[Object(c.jsxs)("button",{className:"btn btn-warning btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:["Sort by: ",B]}),Object(c.jsxs)("div",{className:"dropdown-menu",children:[Object(c.jsx)("button",{onClick:Z,name:"Price: Low to High",className:"dropdown-item",children:"Price: Low to High"}),Object(c.jsx)("button",{onClick:Z,name:"Price: High to Low",className:"dropdown-item",children:"Price: High to Low"}),Object(c.jsx)("button",{onClick:Z,name:"Avg. Cutomer Ratings",className:"dropdown-item",children:"Avg. Cutomer Ratings"}),Object(c.jsx)("button",{onClick:Z,name:"No. of Customer Ratings",className:"dropdown-item",children:"No. of Customer Ratings"})]})]})})}),Object(c.jsxs)("div",{className:"container-fluid",style:{padding:"1% 5%"},children:[Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead-light",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Title"}),Object(c.jsx)("th",{scope:"col",children:"Author"}),Object(c.jsx)("th",{scope:"col",children:"Language"}),Object(c.jsx)("th",{id:"rating",scope:"col",children:"Rating"}),Object(c.jsx)("th",{id:"price",scope:"col",children:"Price"}),Object(c.jsx)("th",{scope:"col",children:"Buy"})]})}),Object(c.jsx)("tbody",{children:Object(c.jsx)(v,{displayedBooks:I})})]})}),Object(c.jsx)(y,{booksPerPage:w,totalBooks:j.length,currentPage:C,handleNext:function(){k(C+1)},handlePrev:function(){k(C-1)},paginate:function(e){k(e);var t=Math.ceil(j.length/w);e>4&&e<t-2?(A(e-1),_(e+1)):e===t?(A(t-4),_(t-2)):1===e&&(A(3),_(5))},rangeStart:L,rangeEnd:R})]})]})})),k=Object(i.b)((function(e){return{cart:e.cart}}),{addToCart:N,deleteFromCart:function(e){return{type:"DELETE_FROM_CART",payload:e}},deleteOneFromCart:function(e){return{type:"DELETE_ONE_FROM_CART",payload:e}}})((function(e){for(var t=e.cart,a=e.addToCart,s=e.deleteFromCart,r=e.deleteOneFromCart,l=Object(n.useRef)(null),i=0,o=0;o<t.length;o++)i+=t[o].price*t[o].quantity;return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{}),Object(c.jsx)(f.a,{ref:l}),Object(c.jsxs)("div",{className:"container-fluid",style:{padding:"1% 5%"},children:[Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)("p",{className:"display-4",children:"Order Summary"})}),t.length>0?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("table",{className:"table",children:Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsx)(n.Fragment,{children:Object(c.jsxs)("tr",{className:"row",children:[Object(c.jsxs)("td",{className:"col-6",children:[Object(c.jsx)("div",{className:"bold",children:Object(c.jsx)("strong",{children:"Book Title:"})}),Object(c.jsx)("div",{children:e.title})]}),Object(c.jsxs)("td",{className:"col-2",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:["Price:\xa0\u20b9\xa0",e.price]}),Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:["SubTotal\xa0:\xa0\u20b9",e.price*e.quantity]})]}),Object(c.jsxs)("td",{className:"col-4 ",children:[Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(c.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return r(e)},children:"-"}),Object(c.jsx)("span",{style:{padding:"0 8%"},children:e.quantity}),Object(c.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return a(e)},children:"+"})]}),Object(c.jsx)("div",{className:"d-flex justify-content-center",style:{padding:"4% 0 1% 0"},children:Object(c.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return function(e){s(e),l.current.show({severity:"error",summary:"Book Removed From Cart",life:2e3})}(e)},children:Object(c.jsx)("i",{className:"far fa-trash-alt"})})})]})]})},e.bookID)}))})})}),Object(c.jsxs)("div",{className:"row",style:{padding:"3% 0"},children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)("h6",{className:"text-danger",children:"*Shipping:\xa0FREE!"})}),Object(c.jsxs)("div",{className:"col-4 offset-6",children:[Object(c.jsxs)("h5",{className:"d-flex justify-content-center",children:["Total:\xa0\u20b9\xa0",i]}),Object(c.jsx)("div",{className:"pt-2 d-flex justify-content-center",children:Object(c.jsx)(j.b,{className:"btn btn-primary btn-lg",to:"/checkout",exact:!0,children:"Checkout"})})]})]})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h5",{className:"d-flex justify-content-center text-danger",children:"Cart Empty!"}),Object(c.jsx)("div",{className:"pt-2 d-flex justify-content-center",children:Object(c.jsx)(j.b,{className:"btn btn-primary btn-lg",to:"/home",exact:!0,children:"Back to Books"})})]})]})]})})),S=Object(i.b)((function(e){return{cart:e.cart}}),{emptyCart:function(){return{type:"EMPTY_CART"}}})((function(e){for(var t=e.cart,a=e.emptyCart,s=Object(n.useState)(""),r=Object(h.a)(s,2),l=r[0],i=r[1],j=Object(n.useState)(""),d=Object(h.a)(j,2),b=d[0],u=d[1],m=Object(n.useState)(""),O=Object(h.a)(m,2),p=O[0],g=O[1],f=Object(n.useState)(""),N=Object(h.a)(f,2),v=N[0],y=N[1],C=Object(n.useState)(""),k=Object(h.a)(C,2),S=k[0],w=k[1],T=Object(n.useState)(""),E=Object(h.a)(T,2),R=E[0],_=E[1],F=Object(n.useState)(""),P=Object(h.a)(F,2),L=P[0],A=P[1],q=Object(n.useState)(""),D=Object(h.a)(q,2),B=D[0],M=D[1],H=Object(n.useState)(""),z=Object(h.a)(H,2),I=z[0],Z=z[1],J=Object(n.useState)(""),Y=Object(h.a)(J,2),K=Y[0],Q=Y[1],G=Object(n.useState)(""),U=Object(h.a)(G,2),V=U[0],W=U[1],X=Object(n.useState)(""),$=Object(h.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ce=Object(h.a)(ae,2),ne=ce[0],se=ce[1],re=Object(n.useState)(!1),le=Object(h.a)(re,2),ie=le[0],je=le[1],oe=0,de=0,be=0;be<t.length;be++)de+=t[be].quantity,oe+=t[be].quantity*t[be].price;var ue=function(e){var t=e.target,a=t.id,c=t.value;"name"===a?(i(c),c.length>0&&c.length<4?M("Name should have atleast 4 characters"):M("")):"state"===a?(y(c),c.length>0&&c.length<4?W("State should have atleast 4 characters"):W("")):"city"===a?(w(c),c.length>0&&c.length<4?te("City should have atleast 4 characters"):te("")):"email"===a?(u(c),!c.match(/(.+)@(.+){2,}\.(.+){2,}/)&&c.length>0?Z("Enter a valid email address"):Z("")):"mobNumber"===a?(g(c),10!==c.length&&c.length>0?Q("Enter valid mobile number"):Q("")):"zip"===a?(A(c),6!==c.length&&0!==c.length?se("Enter valid Zip Code"):se("")):_(c)};return ie||0===t.length?Object(c.jsx)(o.a,{to:{pathname:"/home"}}):Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{}),Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-lg-8 offset-lg-2 col-md-10 offset-md-1 col-sm-12",children:Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),window.alert("Order Successful"),a(),je(!0)},children:Object(c.jsx)("div",{className:"card my-5",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:"Customer Details"}),Object(c.jsxs)("div",{className:"card-text",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"name",children:["Name",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"name",type:"text",className:"form-control",placeholder:"Name",required:!0,value:l,onChange:ue}),B&&Object(c.jsx)("div",{className:"alert alert-danger",children:B})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"email",children:["Email",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"email",type:"email",className:"form-control",placeholder:"Email Address",required:!0,value:b,onChange:ue}),I&&Object(c.jsx)("div",{className:"alert alert-danger",children:I})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"mobNumber",children:["Mobile Number",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"mobNumber",type:"number",className:"form-control",placeholder:"Mobile Number",required:!0,value:p,onChange:ue}),K&&Object(c.jsx)("div",{className:"alert alert-danger",children:K})]})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{className:"card-title mt-4",children:"Shipping Address"}),Object(c.jsxs)("div",{className:"card-text",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"country",children:["Country",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{type:"text",className:"form-control",value:"India",disabled:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"state",children:["State",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{type:"text",id:"state",className:"form-control",placeholder:"State",required:!0,value:v,onChange:ue}),V&&Object(c.jsx)("div",{className:"alert alert-danger",children:V})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"city",children:["City",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"city",type:"text",className:"form-control",placeholder:"City",required:!0,value:S,onChange:ue}),ee&&Object(c.jsx)("div",{className:"alert alert-danger",children:ee})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"street",children:"House No./Street"}),Object(c.jsx)("input",{id:"street",type:"text",className:"form-control",placeholder:"House No./Street",value:R,onChange:ue})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"zip",children:["Zip Code",Object(c.jsx)("span",{className:"text-danger",children:"*"})]}),Object(c.jsx)("input",{id:"zip",type:"number",className:"form-control",placeholder:"Zip Code",required:!0,value:L,onChange:ue}),ne&&Object(c.jsx)("div",{className:"alert alert-danger",children:ne})]})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("h5",{className:"card-title mt-4 mb-3",children:"Order Details"}),Object(c.jsxs)("div",{children:["Total Quantity: ",de]}),Object(c.jsx)("div",{className:"text-danger",children:"*Shipping: Free"}),Object(c.jsxs)("h5",{children:["Total Price: \u20b9 ",oe]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{disabled:!!(B||I||K||V||ee||ne),type:"submit",className:"btn btn-primary btn-lg mt-2",children:"Confirm Order"})})]})})})})})})]})}));var w=function(){return Object(c.jsx)(j.a,{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/home",component:C}),Object(c.jsx)(o.b,{exact:!0,path:"/cart",component:k}),Object(c.jsx)(o.b,{exact:!0,path:"/checkout",component:S}),Object(c.jsx)(o.b,{path:"/",component:C})]})})},T=a(40),E=Object(l.a)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"ADD_TO_CART":var c=!1,n=e.map((function(e){return e.title===a.title&&(e.quantity+=1,c=!0),e}));return c?n:(a.quantity=1,[].concat(Object(T.a)(e),[a]));case"DELETE_ONE_FROM_CART":var s=!1,r=e.map((function(e){return e.title===a.title&&e.quantity>1&&(e.quantity-=1,s=!0),e}));return s?r:e.filter((function(e){return e.title!==a.title}));case"DELETE_FROM_CART":return e.filter((function(e){return e.title!==a.title}));case"EMPTY_CART":return[];default:return e}}});r.a.render(Object(c.jsx)(i.a,{store:Object(l.b)(E),children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0eb4a09d.chunk.js.map